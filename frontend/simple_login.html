<!DOCTYPE html>
<html>
<head>
    <title>Login - DTE Rajasthan</title>
    <style>
        body { font-family: Arial; padding: 50px; background: #f5f5f5; }
        .login-box { max-width: 400px; margin: 0 auto; background: white; padding: 30px; border-radius: 8px; }
        input, select, button { width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ddd; border-radius: 4px; }
        button { background: #007bff; color: white; border: none; cursor: pointer; }
        button:hover { background: #0056b3; }
        .role-btn { background: #28a745; margin: 5px; }
        .role-btn.active { background: #dc3545; }
    </style>
</head>
<body>
    <div class="login-box">
        <h2>DTE Rajasthan Login</h2>
        
        <div>
            <button type="button" class="role-btn" onclick="selectRole('government')">Government</button>
            <button type="button" class="role-btn" onclick="selectRole('college')">College</button>
        </div>
        
        <div id="college-select" style="display:none;">
            <select id="college">
                <option value="gpj">Government Polytechnic Jaipur</option>
                <option value="rtu">Rajasthan Technical University Kota</option>
                <option value="geca">Government Engineering College Ajmer</option>
                <option value="itij">Industrial Training Institute Jodhpur</option>
                <option value="polu">Polytechnic College Udaipur</option>
            </select>
        </div>
        
        <input type="text" id="username" placeholder="Username" value="admin">
        <input type="password" id="password" placeholder="Password" value="admin123">
        
        <button onclick="login()">Login</button>
        
        <div id="message"></div>
    </div>

    <script>
        let selectedRole = null;
        
        function selectRole(role) {
            selectedRole = role;
            
            // Update button styles
            document.querySelectorAll('.role-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // Show/hide college selector
            if (role === 'college') {
                document.getElementById('college-select').style.display = 'block';
            } else {
                document.getElementById('college-select').style.display = 'none';
            }
        }
        
        function login() {
            if (!selectedRole) {
                document.getElementById('message').innerHTML = '<p style="color:red;">Please select a role first!</p>';
                return;
            }
            
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const college = document.getElementById('college').value;
            
            if (selectedRole === 'college' && !college) {
                document.getElementById('message').innerHTML = '<p style="color:red;">Please select a college!</p>';
                return;
            }
            
            // Simple validation
            if (username && password) {
                // Store session data
                sessionStorage.setItem('isAuthenticated', 'true');
                sessionStorage.setItem('userRole', selectedRole);
                sessionStorage.setItem('userCollege', selectedRole === 'college' ? college : 'government');
                sessionStorage.setItem('username', username);
                
                document.getElementById('message').innerHTML = '<p style="color:green;">Login successful! Redirecting...</p>';
                
                // Redirect to dashboard
                setTimeout(() => {
                    window.location.href = '/';
                }, 1000);
            } else {
                document.getElementById('message').innerHTML = '<p style="color:red;">Please enter username and password!</p>';
            }
        }
        
        // Check if already logged in
        if (sessionStorage.getItem('isAuthenticated') === 'true') {
            window.location.href = '/';
        }
    </script>
</body>
</html>